(self["webpackChunk"]=self["webpackChunk"]||[]).push([[979],{440:function(e){e.exports={"b-image":"b-image___3MLKV",image:"image___OEWpO"}},96054:function(e){e.exports={"project-invite":"project-invite___3B4Dv","wrap-content":"wrap-content___21bBd","app-name":"app-name___3nfE7","new-message":"new-message___3sr1y","wrap-ctrl":"wrap-ctrl___SjdU_","user-avatar":"user-avatar___1REM0",text:"text___2k--v","project-name":"project-name___FOgEJ","wrap-btn":"wrap-btn___1e1pW"}},48465:function(e,a,t){"use strict";t(90577);var r=t(31580),n=t(67294),c=t(440),i=t.n(c),s=e=>{var a=e.src,t=e.width,c=void 0===t?50:t,s=e.height,d=void 0===s?50:s,l=e.borderRadius,o=void 0===l?3:l;return n.createElement("div",{className:i()["b-image"]},n.createElement(r.Z,{src:a,className:i().image,style:{width:"".concat(c,"px"),height:"".concat(d,"px"),borderRadius:"".concat(o,"px")}}))};a["Z"]=s},21066:function(e,a,t){"use strict";t.r(a);t(13753);var r=t(48429),n=(t(14643),t(92909)),c=t(90636),i=t(3182),s=t(2824),d=t(67294),l=t(96054),o=t.n(l),u=t(48465),p=t(30155),m=t(7511),_=t(71215),v=t.n(_),h=e=>{var a=e.match,t=(0,m.tT)("@@initialState"),l=t.initialState,_=(0,d.useState)({valid:!0}),h=(0,s.Z)(_,2),w=h[0],g=h[1],E=(0,d.useState)(!1),f=(0,s.Z)(E,2),b=f[0],Z=f[1],x=(0,d.useState)({}),N=(0,s.Z)(x,2),y=N[0],j=N[1],k=l||{};(0,d.useEffect)((()=>{var e=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(){var t,r,n,i,s;return(0,c.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,p.TU)({uuid:a.params.id});case 2:return t=e.sent,r=t.data,e.next=6,(0,p.HW)({id:r.group_id});case 6:return n=e.sent,j(n.data),e.next=10,(0,p.Xy)({user_id:r.receiver_id||k.id,project_id:r.group_id});case 10:i=e.sent,s=i.data.count,g(r),console.log("data-------",r),Z(!!s),r.receiver_id&&r.receiver_id!==k.id&&m.m8.push("/403");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a.params.id,k.id]);var R=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(){var t,r;return(0,c.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Ol)({uuid:a.params.id});case 2:t=e.sent,r=t.code,200===r&&(n.default.success("\u52a0\u5165\u6210\u529f"),m.m8.replace("/project-manage/project/".concat(w.group_id)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.createElement("div",{className:o()["project-invite"]},d.createElement("div",{className:o()["wrap-content"]},d.createElement("div",{className:o()["app-name"]},"charling"),d.createElement("img",{className:o()["new-message"],src:v(),alt:""}),d.createElement("div",{className:o()["wrap-ctrl"]},d.createElement(u.Z,{className:o()["user-avatar"],src:w.actor&&w.actor.avatar,width:64,height:64,borderRadius:64}),d.createElement("div",{className:o().text},w.actor&&w.actor.username,d.createElement("span",{className:o()["color-light"]},"\u9080\u8bf7\u4f60\u52a0\u5165\u9879\u76ee")),d.createElement("div",{className:o()["project-name"]},y.name),d.createElement("div",{className:o()["wrap-btn"]},b?d.createElement(r.Z,{disabled:!0,style:{width:"80%",borderRadius:12}},"\u5df2\u52a0\u5165"):w.valid||b?1===w.is_accept&&w.valid&&!b?d.createElement(r.Z,{disabled:!0,style:{width:"80%",borderRadius:12}},"\u9080\u8bf7\u5df2\u8fc7\u671f"):d.createElement(r.Z,{type:"primary",style:{width:"80%",borderRadius:12},onClick:R},"\u7acb\u523b\u52a0\u5165"):d.createElement(r.Z,{disabled:!0,style:{width:"80%",borderRadius:12}},"\u9080\u8bf7\u5df2\u8fc7\u671f")))))};h.layout={hideMenu:!0,hideNav:!0,hideFooter:!0},a["default"]=h},71215:function(e,a,t){e.exports=t.p+"static/new-message.2daaa560.png"}}]);