(self["webpackChunk"]=self["webpackChunk"]||[]).push([[591],{36814:function(e,t,n){"use strict";function a(e){if(null==e)throw new TypeError("Cannot destructure "+e)}n.d(t,{Z:function(){return a}})},30546:function(e){e.exports={"role-management":"role-management___35Vv2",header:"header___3Dr31",pagination:"pagination___2GKX5"}},15702:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});n(91772);var a=n(12774),r=(n(36805),n(70236)),l=(n(68137),n(50532)),i=(n(25324),n(45733)),o=(n(13753),n(48429)),c=(n(14643),n(92909)),u=n(90636),s=n(11849),d=n(3182),m=n(2824),f=(n(26780),n(86444)),p=n(67294),h=n(82114),Z=n(88284),v=n(28508),g=n(51042),E=n(82061),w=n(30155),k=n(30546),b=n.n(k),y=(n(90140),n(69984)),x=(n(67604),n(76592)),C=(n(97140),n(38699)),S=C.Z.Option,I=l.Z.TextArea,P=e=>{var t=e.permissionManagementEditVisible,n=e.setPermissionManagementEditVisible,a=e.editRow,r=e.onEditSuccess,i=void 0===r?()=>{}:r,o=x.Z.useForm(),h=(0,m.Z)(o,1),Z=h[0],v=(0,p.useState)(void 0),g=(0,m.Z)(v,2),E=g[0],k=g[1],b=e=>{var t;switch(k(e),e){case"\u5217\u8868":t="get";break;case"\u65b0\u589e":t="post";break;case"\u8be6\u60c5":t="get";break;case"\u4fee\u6539":t="put";break;case"\u6279\u91cf\u5220\u9664":t="delete";break}Z.setFieldsValue({name:e,action:t})},P=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(){var t;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.validateFields();case 3:if(t=Z.getFieldsValue(),!a||!a.id){e.next=10;break}return e.next=7,(0,w.kY)((0,s.Z)((0,s.Z)({},t),{},{id:a.id}));case 7:c.default.success("\u7f16\u8f91\u6210\u529f"),e.next=13;break;case 10:return e.next=12,(0,w.zJ)(t);case 12:c.default.success("\u6dfb\u52a0\u6210\u529f");case 13:i(),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),console.log("Failed:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),z=()=>{W(),n(!1)},W=()=>{Z.setFieldsValue({mark:void 0,mark_name:void 0,name:void 0,description:void 0,state:1,authentication:1,authorization:1,action:"get",url:"/backend/"})};return(0,p.useEffect)((()=>{k(void 0),a&&a.id?Z.setFieldsValue(a):W()}),[a]),p.createElement(f.Z,{title:a&&a.id?"\u7f16\u8f91":"\u6dfb\u52a0",open:t,onCancel:z,onOk:P},p.createElement(x.Z,{form:Z,labelCol:{span:4},wrapperCol:{span:18}},p.createElement(x.Z.Item,{label:"\u6807\u8bc6\u7801",name:"mark",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u8bc6\u7801"},{max:60,message:"\u957f\u5ea6\u4e0d\u8d85\u8fc7 60 \u4e2a\u5b57\u7b26"}]},p.createElement(l.Z,{placeholder:"\u8bf7\u8f93\u5165\u6807\u8bc6\u7801"})),p.createElement(x.Z.Item,{label:"\u6807\u8bc6\u7801\u540d",name:"mark_name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u8bc6\u7801\u540d"},{max:60,message:"\u957f\u5ea6\u4e0d\u8d85\u8fc7 60 \u4e2a\u5b57\u7b26"}]},p.createElement(l.Z,{placeholder:"\u8bf7\u8f93\u5165\u6807\u8bc6\u7801\u540d"})),p.createElement(x.Z.Item,{label:"\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u540d\u79f0"},{max:60,message:"\u957f\u5ea6\u4e0d\u8d85\u8fc7 60 \u4e2a\u5b57\u7b26"}]},p.createElement(l.Z,{addonBefore:p.createElement(C.Z,{value:E,onChange:b,placeholder:"\u8bf7\u9009\u62e9",style:{width:100}},p.createElement(S,{value:"\u5217\u8868"},"\u5217\u8868"),p.createElement(S,{value:"\u65b0\u589e"},"\u65b0\u589e"),p.createElement(S,{value:"\u8be6\u60c5"},"\u8be6\u60c5"),p.createElement(S,{value:"\u4fee\u6539"},"\u4fee\u6539"),p.createElement(S,{value:"\u6279\u91cf\u5220\u9664"},"\u6279\u91cf\u5220\u9664"))})),p.createElement(x.Z.Item,{label:"\u8def\u5f84",name:"url",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8def\u5f84"},{max:254,message:"\u957f\u5ea6\u4e0d\u8d85\u8fc7 254 \u4e2a\u5b57\u7b26"}]},p.createElement(l.Z,{placeholder:"\u8bf7\u8f93\u5165\u8def\u5f84"})),p.createElement(x.Z.Item,{label:"\u52a8\u4f5c",name:"action"},p.createElement(y.ZP.Group,null,p.createElement(y.ZP,{value:"get"},"GET"),p.createElement(y.ZP,{value:"post"},"POST"),p.createElement(y.ZP,{value:"put"},"PUT"),p.createElement(y.ZP,{value:"delete"},"DELETE"))),p.createElement(x.Z.Item,{label:"\u72b6\u6001",name:"state"},p.createElement(y.ZP.Group,null,p.createElement(y.ZP,{value:1},"\u5f00\u542f"),p.createElement(y.ZP,{value:0},"\u5173\u95ed"))),p.createElement(x.Z.Item,{label:"\u9700\u8981\u8ba4\u8bc1",name:"authentication"},p.createElement(y.ZP.Group,null,p.createElement(y.ZP,{value:1},"\u662f"),p.createElement(y.ZP,{value:0},"\u5426"))),p.createElement(x.Z.Item,{label:"\u9700\u8981\u6388\u6743",name:"authorization"},p.createElement(y.ZP.Group,null,p.createElement(y.ZP,{value:1},"\u662f"),p.createElement(y.ZP,{value:0},"\u5426"))),p.createElement(x.Z.Item,{label:"\u63cf\u8ff0",name:"description",rules:[{max:254,message:"\u957f\u5ea6\u4e0d\u8d85\u8fc7 254 \u4e2a\u5b57\u7b26"}]},p.createElement(I,{placeholder:"\u8bf7\u8f93\u5165\u63cf\u8ff0"}))))},z=P,W=f.Z.confirm,O=()=>{var e=(0,p.useState)([]),t=(0,m.Z)(e,2),n=t[0],f=t[1],k=(0,p.useState)(!1),y=(0,m.Z)(k,2),x=y[0],C=y[1],S=(0,p.useState)(0),I=(0,m.Z)(S,2),P=I[0],O=I[1],V=(0,p.useState)([]),_=(0,m.Z)(V,2),H=_[0],M=_[1],T=(0,p.useState)(""),F=(0,m.Z)(T,2),N=F[0],j=F[1],D=(0,p.useState)({prop_order:"",order:"",pageNo:1,pageSize:10,keyword:""}),G=(0,m.Z)(D,2),R=G[0],B=G[1],L=(0,p.useState)(!1),q=(0,m.Z)(L,2),A=q[0],X=q[1],Y=(0,p.useState)(0),K=(0,m.Z)(Y,2),J=K[0],U=K[1],Q=(0,p.useState)({}),$=(0,m.Z)(Q,2),ee=$[0],te=$[1],ne=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(){var t,n,a,r,l,i;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return C(!0),t=R.pageSize,n=R.pageNo,e.next=4,(0,w.pZ)((0,s.Z)((0,s.Z)({},R),{},{limit:t,offset:(n-1)*t}));case 4:a=e.sent,r=a.data,l=r.rows,i=r.count,f(l),O(i),C(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=()=>{U(J+1),X(!1)};(0,p.useEffect)((()=>{ne()}),[R,J]);var re=e=>{e&&e.id&&te(e),X(!0)},le=e=>{e&&e.id?W({title:"\u4f60\u786e\u5b9a\u8981\u5220\u9664\u5f53\u524d\u9879\u5417?",icon:p.createElement(h.Z,null),onOk:function(){var t=(0,d.Z)((0,u.Z)().mark((function t(){var n;return(0,u.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,w.g1)({ids:[e.id]});case 2:n=t.sent,n.data,n.code,U(J+1),c.default.success("\u5220\u9664\u6210\u529f");case 7:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),onCancel(){c.default.info("\u5df2\u53d6\u6d88")}}):W({title:"\u4f60\u786e\u5b9a\u8981\u5220\u9664\u5f53\u524d\u9009\u4e2d\u9879\u5417?",icon:p.createElement(h.Z,null),onOk:function(){var e=(0,d.Z)((0,u.Z)().mark((function e(){var t,n;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=H.map((e=>e.id)),e.next=3,(0,w.g1)({ids:t});case 3:n=e.sent,n.data,n.code,U(J+1),c.default.success("\u5220\u9664\u6210\u529f");case 8:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),onCancel(){c.default.info("\u5df2\u53d6\u6d88")}})},ie=e=>{B((0,s.Z)((0,s.Z)({},R),{},{pageSize:e})),ne()},oe=e=>{B((0,s.Z)((0,s.Z)({},R),{},{pageNo:e})),ne()},ce=e=>{j(e),B((0,s.Z)((0,s.Z)({},R),{},{keyword:e,pageNo:1}))},ue=[{title:"\u6807\u8bc6\u7801",dataIndex:"mark",key:"mark"},{title:"\u6807\u8bc6\u7801\u540d",dataIndex:"mark_name",key:"mark_name"},{title:"\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u8def\u5f84",dataIndex:"url",key:"url"},{title:"\u52a8\u4f5c",dataIndex:"action",key:"action"},{title:"\u72b6\u6001",dataIndex:"state",key:"state",width:100,render:e=>1===e?p.createElement(Z.Z,{style:{color:"#67C23A",fontSize:"16px"}}):p.createElement(v.Z,{style:{color:"#F56C6C",fontSize:"16px"}})},{title:"\u9700\u8981\u8ba4\u8bc1",dataIndex:"authentication",key:"authentication",render:e=>1===e?p.createElement(Z.Z,{style:{color:"#67C23A",fontSize:"16px"}}):p.createElement(v.Z,{style:{color:"#F56C6C",fontSize:"16px"}})},{title:"\u9700\u8981\u6388\u6743",dataIndex:"authorization",key:"authorization",render:e=>1===e?p.createElement(Z.Z,{style:{color:"#67C23A",fontSize:"16px"}}):p.createElement(v.Z,{style:{color:"#F56C6C",fontSize:"16px"}})},{title:"\u64cd\u4f5c",dataIndex:"",key:"actions",render:(e,t)=>p.createElement(i.Z,null,p.createElement(o.Z,{type:"link",onClick:()=>re(t)},"\u7f16\u8f91"),p.createElement(o.Z,{type:"link",danger:!0,onClick:()=>le(t)},"\u5220\u9664"))}];return p.createElement("div",{className:b()["role-management"]},p.createElement("div",{className:b().header},p.createElement(i.Z,null,p.createElement(o.Z,{type:"primary",icon:p.createElement(g.Z,null),onClick:()=>re()},"\u6dfb\u52a0"),p.createElement(o.Z,{danger:!0,icon:p.createElement(E.Z,null),disabled:0===H.length,onClick:()=>le()},"\u6279\u91cf\u5220\u9664")),p.createElement(l.Z.Search,{style:{width:"240px"},placeholder:"\u8bf7\u8f93\u5165\u8d44\u6e90\u540d\u79f0",allowClear:!0,value:N,onSearch:ce,onChange:e=>{j(e.target.value.trim()),!e.target.value.trim()&&B((0,s.Z)((0,s.Z)({},R),{},{keyword:e.target.value.trim(),pageNo:1}))}})),p.createElement(r.Z,{rowSelection:{onChange:(e,t)=>M(t)},loading:x,columns:ue,dataSource:n,pagination:!1,rowKey:"id",onChange:(e,t,n)=>{var a=n.order?n.order.replace("end",""):"";B((0,s.Z)((0,s.Z)({},R),{},{prop_order:n.columnKey,order:a}))}}),p.createElement(a.Z,{className:b().pagination,current:R.pageNo,pageSize:R.pageSize,total:P,showSizeChanger:!0,onShowSizeChange:ie,onChange:oe}),p.createElement(z,{editRow:ee,permissionManagementEditVisible:A,setPermissionManagementEditVisible:X,onEditSuccess:ae}))};O.menu={name:"\u8d44\u6e90\u7ba1\u7406",icon:"LineChartOutlined"},O.order=4;var V=O},85713:function(e,t,n){"use strict";function a(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function r(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function l(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return r(n.overflowY,t)||r(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function i(e,t,n,a,r,l,i,o){return l<e&&i>t||l>e&&i<t?0:l<=e&&o<=n||i>=t&&o>=n?l-e-a:i>t&&o<n||l<e&&o>n?i-t+r:0}n.d(t,{Z:function(){return m}});var o=function(e,t){var n=window,r=t.scrollMode,o=t.block,c=t.inline,u=t.boundary,s=t.skipOverflowHiddenElements,d="function"==typeof u?u:function(e){return e!==u};if(!a(e))throw new TypeError("Invalid target");for(var m,f,p=document.scrollingElement||document.documentElement,h=[],Z=e;a(Z)&&d(Z);){if((Z=null==(f=(m=Z).parentElement)?m.getRootNode().host||null:f)===p){h.push(Z);break}null!=Z&&Z===document.body&&l(Z)&&!l(document.documentElement)||null!=Z&&l(Z,s)&&h.push(Z)}for(var v=n.visualViewport?n.visualViewport.width:innerWidth,g=n.visualViewport?n.visualViewport.height:innerHeight,E=window.scrollX||pageXOffset,w=window.scrollY||pageYOffset,k=e.getBoundingClientRect(),b=k.height,y=k.width,x=k.top,C=k.right,S=k.bottom,I=k.left,P="start"===o||"nearest"===o?x:"end"===o?S:x+b/2,z="center"===c?I+y/2:"end"===c?C:I,W=[],O=0;O<h.length;O++){var V=h[O],_=V.getBoundingClientRect(),H=_.height,M=_.width,T=_.top,F=_.right,N=_.bottom,j=_.left;if("if-needed"===r&&x>=0&&I>=0&&S<=g&&C<=v&&x>=T&&S<=N&&I>=j&&C<=F)return W;var D=getComputedStyle(V),G=parseInt(D.borderLeftWidth,10),R=parseInt(D.borderTopWidth,10),B=parseInt(D.borderRightWidth,10),L=parseInt(D.borderBottomWidth,10),q=0,A=0,X="offsetWidth"in V?V.offsetWidth-V.clientWidth-G-B:0,Y="offsetHeight"in V?V.offsetHeight-V.clientHeight-R-L:0,K="offsetWidth"in V?0===V.offsetWidth?0:M/V.offsetWidth:0,J="offsetHeight"in V?0===V.offsetHeight?0:H/V.offsetHeight:0;if(p===V)q="start"===o?P:"end"===o?P-g:"nearest"===o?i(w,w+g,g,R,L,w+P,w+P+b,b):P-g/2,A="start"===c?z:"center"===c?z-v/2:"end"===c?z-v:i(E,E+v,v,G,B,E+z,E+z+y,y),q=Math.max(0,q+w),A=Math.max(0,A+E);else{q="start"===o?P-T-R:"end"===o?P-N+L+Y:"nearest"===o?i(T,N,H,R,L+Y,P,P+b,b):P-(T+H/2)+Y/2,A="start"===c?z-j-G:"center"===c?z-(j+M/2)+X/2:"end"===c?z-F+B+X:i(j,F,M,G,B+X,z,z+y,y);var U=V.scrollLeft,Q=V.scrollTop;P+=Q-(q=Math.max(0,Math.min(Q+q/J,V.scrollHeight-H/J+Y))),z+=U-(A=Math.max(0,Math.min(U+A/K,V.scrollWidth-M/K+X)))}W.push({el:V,top:q,left:A})}return W};function c(e){return e===Object(e)&&0!==Object.keys(e).length}function u(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var a=e.el,r=e.top,l=e.left;a.scroll&&n?a.scroll({top:r,left:l,behavior:t}):(a.scrollTop=r,a.scrollLeft=l)}))}function s(e){return!1===e?{block:"end",inline:"nearest"}:c(e)?e:{block:"start",inline:"nearest"}}function d(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(c(t)&&"function"===typeof t.behavior)return t.behavior(n?o(e,t):[]);if(n){var a=s(t);return u(o(e,a),a.behavior)}}var m=d},23270:function(e){e.exports=function(e,t,n,a){var r=n?n.call(a,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var l=Object.keys(e),i=Object.keys(t);if(l.length!==i.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),c=0;c<l.length;c++){var u=l[c];if(!o(u))return!1;var s=e[u],d=t[u];if(r=n?n.call(a,s,d,u):void 0,!1===r||void 0===r&&s!==d)return!1}return!0}}}]);