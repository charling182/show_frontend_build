(self["webpackChunk"]=self["webpackChunk"]||[]).push([[979],{440:function(e){e.exports={"b-image":"b-image___3MLKV",image:"image___OEWpO"}},96054:function(e){e.exports={"project-invite":"project-invite___3B4Dv","wrap-content":"wrap-content___21bBd","app-name":"app-name___3nfE7","new-message":"new-message___3sr1y","wrap-ctrl":"wrap-ctrl___SjdU_","user-avatar":"user-avatar___1REM0",text:"text___2k--v","project-name":"project-name___FOgEJ","wrap-btn":"wrap-btn___1e1pW"}},48465:function(e,t,a){"use strict";a(90577);var r=a(31580),n=a(67294),i=a(440),s=a.n(i),c=e=>{var t=e.src,a=e.width,i=void 0===a?50:a,c=e.height,d=void 0===c?50:c,u=e.borderRadius,l=void 0===u?3:u;return n.createElement("div",{className:s()["b-image"]},n.createElement(r.Z,{src:t,className:s().image,style:{width:"".concat(i,"px"),height:"".concat(d,"px"),borderRadius:"".concat(l,"px")}}))};t["Z"]=c},21066:function(e,t,a){"use strict";a.r(t);a(13753);var r=a(48429),n=(a(14643),a(92909)),i=a(90636),s=a(3182),c=a(2824),d=a(67294),u=a(96054),l=a.n(u),m=a(48465),o=a(30155),p=a(7511),_=a(71215),v=a.n(_),h=e=>{var t=e.match,a=(0,p.tT)("@@initialState"),u=a.initialState,_=(0,d.useState)({valid:!0}),h=(0,c.Z)(_,2),w=h[0],E=h[1],f=(0,d.useState)(!1),g=(0,c.Z)(f,2),b=g[0],Z=g[1],x=(0,d.useState)({}),N=(0,c.Z)(x,2),y=N[0],j=N[1],k=u||{};(0,d.useEffect)((()=>{var e=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var a,r,n,s,c;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.TU)({uuid:t.params.id});case 2:return a=e.sent,r=a.data,e.next=6,(0,o.HW)({id:r.group_id});case 6:return n=e.sent,j(n.data),e.next=10,(0,o.Xy)({user_id:r.receiver_id||k.id,project_id:r.group_id});case 10:s=e.sent,c=s.data.count,E(r),Z(!!c),r.receiver_id&&r.receiver_id!==k.id&&p.m8.push("/403");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t.params.id,k.id]);var R=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var a,r;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Ol)({uuid:t.params.id});case 2:a=e.sent,r=a.code,200===r&&n.default.success("\u52a0\u5165\u6210\u529f");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.createElement("div",{className:l()["project-invite"]},d.createElement("div",{className:l()["wrap-content"]},d.createElement("div",{className:l()["app-name"]},"charling"),d.createElement("img",{className:l()["new-message"],src:v(),alt:""}),d.createElement("div",{className:l()["wrap-ctrl"]},d.createElement(m.Z,{className:l()["user-avatar"],src:w.actor&&w.actor.avatar,width:64,height:64,borderRadius:64}),d.createElement("div",{className:l().text},w.actor&&w.actor.username,d.createElement("span",{className:l()["color-light"]},"\u9080\u8bf7\u4f60\u52a0\u5165\u9879\u76ee")),d.createElement("div",{className:l()["project-name"]},y.name),d.createElement("div",{className:l()["wrap-btn"]},b?d.createElement(r.Z,{disabled:!0,style:{width:"80%",borderRadius:12}},"\u5df2\u52a0\u5165"):w.valid||b?1===w.is_accept&&w.valid&&!b?d.createElement(r.Z,{disabled:!0,style:{width:"80%",borderRadius:12}},"\u9080\u8bf7\u5df2\u8fc7\u671f"):d.createElement(r.Z,{type:"primary",style:{width:"80%",borderRadius:12},onClick:R},"\u7acb\u523b\u52a0\u5165"):d.createElement(r.Z,{disabled:!0,style:{width:"80%",borderRadius:12}},"\u9080\u8bf7\u5df2\u8fc7\u671f")))))};h.layout={hideMenu:!0,hideNav:!0,hideFooter:!0},t["default"]=h},71215:function(e,t,a){e.exports=a.p+"static/new-message.2daaa560.png"}}]);