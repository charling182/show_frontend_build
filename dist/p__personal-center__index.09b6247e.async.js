(self["webpackChunk"]=self["webpackChunk"]||[]).push([[181],{60706:function(e){e.exports={"personal-center":"personal-center___2Va6p","base-setting":"base-setting___2ijkU","wrap-form":"wrap-form___1C0wX","wrap-photo":"wrap-photo___2v4Vk","wrap-photo-plus":"wrap-photo-plus___zTbPN"}},7154:function(e,t,n){"use strict";n.r(t);n(83557);var r=n(78840),i=(n(13753),n(48429)),a=(n(68137),n(50532)),o=n(90636),l=n(11849),u=n(93224),c=(n(14643),n(92909)),s=n(3182),d=n(2824),f=(n(67604),n(76592)),p=n(67294),m=n(60706),h=n.n(m),v=n(30155),w=n(7511),g=n(79090),b=n(51042),E=n(31795),y=["username","email"],x=f.Z.Item,Z=e=>{var t=(0,w.tT)("@@initialState"),n=t.initialState,m=f.Z.useForm(),Z=(0,d.Z)(m,1),k=Z[0],N=(0,p.useState)(!1),M=(0,d.Z)(N,2),W=(M[0],M[1],(0,p.useState)("")),F=(0,d.Z)(W,2),O=(F[0],F[1],(0,p.useState)({username:(null===n||void 0===n?void 0:n.username)||"",email:(null===n||void 0===n?void 0:n.email)||"",id:(null===n||void 0===n?void 0:n.id)||"",nickname:(null===n||void 0===n?void 0:n.nickname)||"",phone:(null===n||void 0===n?void 0:n.phone)||"",company:(null===n||void 0===n?void 0:n.company)||"",city:(null===n||void 0===n?void 0:n.city)||""})),_=(0,d.Z)(O,2),S=_[0],T=(_[1],function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n,r;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("person\u9875\u9762",t),t.nickname){e.next=4;break}return c.default.warning("\u8bf7\u8f93\u5165\u6635\u79f0"),e.abrupt("return");case 4:return t.username,t.email,n=(0,u.Z)(t,y),e.next=7,(0,v.rE)((0,l.Z)((0,l.Z)({},n),{},{avatar:I,id:S.id}));case 7:r=e.sent,200===r.code&&c.default.success("\u4fee\u6539\u6210\u529f");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=(0,p.useState)((null===n||void 0===n?void 0:n.avatar)||""),H=(0,d.Z)(D,2),I=H[0],X=H[1],C=(0,p.useState)(!1),V=(0,d.Z)(C,2),j=V[0],U=(V[1],e=>{console.log("file-----",e);var t="image/jpeg"===e.type||"image/png"===e.type;if(!t)return c.default.error("\u4f60\u9700\u8981\u4e0a\u4f20jpeg\u6216\u8005png\u56fe\u7247\u683c\u5f0f!"),!1;var n=e.size/1024/1024<5;return n?(L(e),!1):(c.default.error("\u56fe\u7247\u5fc5\u987b\u5c0f\u4e8e5MB!"),!1)}),L=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n,r,i;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("file",t),e.next=4,(0,v.cT)(n);case 4:r=e.sent,r.code,i=r.data,X(i.path),k.setFieldValue("avatar",i.path);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=p.createElement("div",null,j?p.createElement(g.Z,null):p.createElement(b.Z,null),p.createElement("div",{style:{marginTop:8}},"Upload"));return p.createElement("div",{className:h()["personal-center"]},p.createElement("div",{className:h()["base-setting"]},p.createElement("div",{className:h()["wrap-form"]},p.createElement(f.Z,{name:"ruleForm",form:k,initialValues:S,onFinish:T,labelCol:{span:6},wrapperCol:{span:12}},p.createElement(x,{label:"\u7528\u6237\u540d",name:"username"},p.createElement(a.Z,{disabled:!0})),p.createElement(x,{label:"\u6635\u79f0",name:"nickname",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6635\u79f0"}]},p.createElement(a.Z,null)),p.createElement(x,{label:"\u90ae\u7bb1",name:"email"},p.createElement(a.Z,{disabled:!0})),p.createElement(x,{label:"\u624b\u673a\u53f7",name:"phone",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801"},{pattern:/^1[3456789]\d{9}$/,message:"\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"}]},p.createElement(a.Z,null)),p.createElement(x,{label:"\u516c\u53f8",name:"company"},p.createElement(a.Z,null)),p.createElement(x,{label:"\u57ce\u5e02",name:"city"},p.createElement(a.Z,null)),p.createElement(x,{wrapperCol:{offset:6,span:12}},p.createElement(i.Z,{type:"primary",htmlType:"submit"},"\u4fdd\u5b58")))),p.createElement("div",{className:h()["wrap-photo"]},p.createElement(E.Z,{rotationSlider:!0},p.createElement(r.Z,{name:"image",listType:"picture-card",showUploadList:!1,beforeUpload:U},I?p.createElement("img",{src:I,alt:"image",style:{width:"100%"}}):Y)))))};t["default"]=Z},17469:function(e,t,n){"use strict";n.d(t,{n:function(){return d}});var r=n(2824),i=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,a=function(e){if("string"!==typeof e)throw new TypeError("Invalid argument expected string");var t=e.match(i);if(!t)throw new Error("Invalid argument not valid semver ('".concat(e,"' received)"));return t.shift(),t},o=function(e){return"*"===e||"x"===e||"X"===e},l=function(e){var t=parseInt(e,10);return isNaN(t)?e:t},u=function(e,t){return typeof e!==typeof t?[String(e),String(t)]:[e,t]},c=function(e,t){if(o(e)||o(t))return 0;var n=u(l(e),l(t)),i=(0,r.Z)(n,2),a=i[0],c=i[1];return a>c?1:a<c?-1:0},s=function(e,t){for(var n=0;n<Math.max(e.length,t.length);n++){var r=c(e[n]||"0",t[n]||"0");if(0!==r)return r}return 0},d=function(e,t){var n=a(e),r=a(t),i=n.pop(),o=r.pop(),l=s(n,r);return 0!==l?l:i&&o?s(i.split("."),o.split(".")):i||o?i?-1:1:0}},88434:function(e,t,n){e.exports=n(24439)},71084:function(e){"use strict";var t=!("undefined"===typeof window||!window.document||!window.document.createElement),n={canUseDOM:t,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=n},74913:function(e){var t,n,r,i,a,o,l,u,c,s,d,f,p,m,h,v=!1;function w(){if(!v){v=!0;var e=navigator.userAgent,w=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),g=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(f=/\b(iPhone|iP[ao]d)/.exec(e),p=/\b(iP[ao]d)/.exec(e),s=/Android/i.exec(e),m=/FBAN\/\w+;/i.exec(e),h=/Mobile/i.exec(e),d=!!/Win64/.exec(e),w){t=w[1]?parseFloat(w[1]):w[5]?parseFloat(w[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var b=/(?:Trident\/(\d+.\d+))/.exec(e);o=b?parseFloat(b[1])+4:t,n=w[2]?parseFloat(w[2]):NaN,r=w[3]?parseFloat(w[3]):NaN,i=w[4]?parseFloat(w[4]):NaN,i?(w=/(?:Chrome\/(\d+\.\d+))/.exec(e),a=w&&w[1]?parseFloat(w[1]):NaN):a=NaN}else t=n=r=a=i=NaN;if(g){if(g[1]){var E=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);l=!E||parseFloat(E[1].replace("_","."))}else l=!1;u=!!g[2],c=!!g[3]}else l=u=c=!1}}var g={ie:function(){return w()||t},ieCompatibilityMode:function(){return w()||o>t},ie64:function(){return g.ie()&&d},firefox:function(){return w()||n},opera:function(){return w()||r},webkit:function(){return w()||i},safari:function(){return g.webkit()},chrome:function(){return w()||a},windows:function(){return w()||u},osx:function(){return w()||l},linux:function(){return w()||c},iphone:function(){return w()||f},mobile:function(){return w()||f||p||s||h},nativeApp:function(){return w()||m},android:function(){return w()||s},ipad:function(){return w()||p}};e.exports=g},92092:function(e,t,n){"use strict";var r,i=n(71084);function a(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,a=n in document;if(!a){var o=document.createElement("div");o.setAttribute(n,"return;"),a="function"===typeof o[n]}return!a&&r&&"wheel"===e&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=a},24439:function(e,t,n){"use strict";var r=n(74913),i=n(92092),a=10,o=40,l=800;function u(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*a,i=n*a,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(1==e.deltaMode?(r*=o,i*=o):(r*=l,i*=l)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}u.getEventType=function(){return r.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},e.exports=u},85713:function(e,t,n){"use strict";function r(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function i(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function a(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return i(n.overflowY,t)||i(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function o(e,t,n,r,i,a,o,l){return a<e&&o>t||a>e&&o<t?0:a<=e&&l<=n||o>=t&&l>=n?a-e-r:o>t&&l<n||a<e&&l>n?o-t+i:0}n.d(t,{Z:function(){return f}});var l=function(e,t){var n=window,i=t.scrollMode,l=t.block,u=t.inline,c=t.boundary,s=t.skipOverflowHiddenElements,d="function"==typeof c?c:function(e){return e!==c};if(!r(e))throw new TypeError("Invalid target");for(var f,p,m=document.scrollingElement||document.documentElement,h=[],v=e;r(v)&&d(v);){if((v=null==(p=(f=v).parentElement)?f.getRootNode().host||null:p)===m){h.push(v);break}null!=v&&v===document.body&&a(v)&&!a(document.documentElement)||null!=v&&a(v,s)&&h.push(v)}for(var w=n.visualViewport?n.visualViewport.width:innerWidth,g=n.visualViewport?n.visualViewport.height:innerHeight,b=window.scrollX||pageXOffset,E=window.scrollY||pageYOffset,y=e.getBoundingClientRect(),x=y.height,Z=y.width,k=y.top,N=y.right,M=y.bottom,W=y.left,F="start"===l||"nearest"===l?k:"end"===l?M:k+x/2,O="center"===u?W+Z/2:"end"===u?N:W,_=[],S=0;S<h.length;S++){var T=h[S],D=T.getBoundingClientRect(),H=D.height,I=D.width,X=D.top,C=D.right,V=D.bottom,j=D.left;if("if-needed"===i&&k>=0&&W>=0&&M<=g&&N<=w&&k>=X&&M<=V&&W>=j&&N<=C)return _;var U=getComputedStyle(T),L=parseInt(U.borderLeftWidth,10),Y=parseInt(U.borderTopWidth,10),A=parseInt(U.borderRightWidth,10),z=parseInt(U.borderBottomWidth,10),B=0,P=0,R="offsetWidth"in T?T.offsetWidth-T.clientWidth-L-A:0,q="offsetHeight"in T?T.offsetHeight-T.clientHeight-Y-z:0,$="offsetWidth"in T?0===T.offsetWidth?0:I/T.offsetWidth:0,G="offsetHeight"in T?0===T.offsetHeight?0:H/T.offsetHeight:0;if(m===T)B="start"===l?F:"end"===l?F-g:"nearest"===l?o(E,E+g,g,Y,z,E+F,E+F+x,x):F-g/2,P="start"===u?O:"center"===u?O-w/2:"end"===u?O-w:o(b,b+w,w,L,A,b+O,b+O+Z,Z),B=Math.max(0,B+E),P=Math.max(0,P+b);else{B="start"===l?F-X-Y:"end"===l?F-V+z+q:"nearest"===l?o(X,V,H,Y,z+q,F,F+x,x):F-(X+H/2)+q/2,P="start"===u?O-j-L:"center"===u?O-(j+I/2)+R/2:"end"===u?O-C+A+R:o(j,C,I,L,A+R,O,O+Z,Z);var K=T.scrollLeft,J=T.scrollTop;F+=J-(B=Math.max(0,Math.min(J+B/G,T.scrollHeight-H/G+q))),O+=K-(P=Math.max(0,Math.min(K+P/$,T.scrollWidth-I/$+R)))}_.push({el:T,top:B,left:P})}return _};function u(e){return e===Object(e)&&0!==Object.keys(e).length}function c(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,a=e.left;r.scroll&&n?r.scroll({top:i,left:a,behavior:t}):(r.scrollTop=i,r.scrollLeft=a)}))}function s(e){return!1===e?{block:"end",inline:"nearest"}:u(e)?e:{block:"start",inline:"nearest"}}function d(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(u(t)&&"function"===typeof t.behavior)return t.behavior(n?l(e,t):[]);if(n){var r=s(t);return c(l(e,r),r.behavior)}}var f=d},23270:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!l(c))return!1;var s=e[c],d=t[c];if(i=n?n.call(r,s,d,c):void 0,!1===i||void 0===i&&s!==d)return!1}return!0}}}]);